(function(a){function f(a){var b=RegExp(h.join("|"),"gi");return a.replace(b,"****")}a(".accordion").length&&a(".accordion").accordion({collapsible:!0});a("#expand-all").length&&a(".accordion-header").click(function(){a(this);a("#expand-all i").hasClass("icon-minus-sign")&&(a("#expand-all span").text("Expand All"),a("#expand-all i").removeClass("icon-minus-sign").addClass("icon-plus-sign"),a(".accordion").accordion("destroy").accordion({collapsible:!0}))});var i={init:function(){a("#expand-all").click(function(){"Expand All"==
a("#expand-all span").text()?(a(".accordion .pane").show(),a("#expand-all span").text("Collapse All"),a("#expand-all i").removeClass("icon-plus-sign").addClass("icon-minus-sign")):(a(".accordion-header").removeClass("current"),a("#expand-all span").text("Expand All"),a("#expand-all i").removeClass("icon-minus-sign").addClass("icon-plus-sign"),a(".accordion").accordion("destroy").accordion({collapsible:!0}))});a("#school_selector").change(function(){window.location=a(this).val()})}},j={init:function(){a("#clans-list").tablesorter({widgets:["zebra"]});
a("#server_select").change(function(){window.location="../"+a(this).val()})}},e={init:function(){a("#df-vid").attr("src","http://www.youtube.com/embed/"+a("#featured-list li:first-child a").data("vidId")+"?rel=0&autoplay=0&iv_load_policy=3&modestbranding=1&wmode=opaque");a("#featured-list li a").on({click:function(){var d=a(this).data("vidId");a("#df-vid").attr("src","http://www.youtube.com/embed/"+d+"?rel=0&autoplay=1&iv_load_policy=3&modestbranding=1&wmode=opaque")}});a(".bottom .blogfeed .entry-content p, .bottom .eventfeed a, .forumfeed li a, .forumfeed li .descr").ellipsis();
e.getForumFallFeed()},getForumFallFeed:function(){a(".load-wrapper").stop(!0,!0).fadeIn("fast");a.ajax({url:"wp-content/themes/darkfalluw/proxy.php?url=http://forums.darkfallonline.com/external.php?type=RSS2",dataType:"xml",async:!1,type:"GET",success:function(d){var b="<ul>";a(d).find("item").each(function(c){if(4<c)return!1;b+='<li><a href="'+a(this).find("link").text()+'" target="_blank" rel="nofollow"><span class="title">'+f(a(this).find("title").text())+'</span></a> <div class="descr">'+f(a(this).find("description").text())+
"</div></li>"});b+="</ul>";a(".bottom .forumfeed ul").length&&a(".bottom .forumfeed ul").remove();a(".bottom .forumfeed").append(b);a(".load-wrapper").stop(!0,!0).fadeOut();setTimeout(function(){e.getForumFallFeed()},18E4)},error:function(d,b,c){console.log("error: ",arguments,b,c);a(".loading, .loader").stop(!0,!0).fadeOut();setTimeout(function(){e.getForumFallFeed()},18E4)}})}},g={getStatus:function(){a.ajax({url:"/wp-content/themes/darkfalluw/serverstatus.php",dataType:"json",success:function(d){var b=
'<div id="server-status"><h2>Server Status:</h2>',c;for(c in d)d.hasOwnProperty(c)&&(b+='<span class="'+c+'">'+c.toUpperCase()+'<i class="icon '+d[c]+'"></i></span>');b+="</div>";a("#branding #server-status").remove();a("#branding").append(b).fadeIn()},error:function(d,b){var c;c='<div id="server-status"><h2>Server Status:</h2>'+("Error: "+b+"</div>");a("#branding #server-status").remove();a("#branding").append(c).fadeIn()}});setTimeout(function(){g.getStatus()},12E4)}},k={init:function(){a(".your-subject").change(function(){"Add My Clan"==
a(".your-subject option:selected").val()?(a(".feedback .clan-details").slideDown(),a(".feedback .event-details").slideUp()):"Add My Event"==a(".your-subject option:selected").val()?(a(".feedback .clan-details").slideUp(),a(".feedback .event-details").slideDown()):(a(".feedback .clan-details").slideUp(),a(".feedback .event-details").slideUp())})}},l={init:function(){a(".video h2, .video p").ellipsis()}},h="fuck;shit;fag; ass;pussy;pussies;nigger;nigga;bitch;asshole;dick;penis;vagina".split(";");a(".post-type-archive-role, .post-type-archive-school, .post-type-archive-spell, .single-school").length&&
i.init();a(".page-template-archive-video-php").length&&l.init();a("h2").length&&a("h2").ellipsis();a(".home").length&&e.init();a(".clans").length&&j.init();a(".feedback").length&&k.init();a("#branding").length&&g.getStatus()})(jQuery);
